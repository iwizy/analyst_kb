# ArchiMate

ArchiMate - нотация архитектуры предприятия, которая связывает бизнес-цели, процессы, приложения, данные и технологическую инфраструктуру. Нотация полезна для impact-анализа и согласования архитектурных изменений на уровне организации.

## Цель и задачи

- показать, как бизнес-возможности поддерживаются ИТ-ландшафтом;
- зафиксировать зависимости между слоями архитектуры;
- оценивать влияние изменений до запуска инициатив.

## Основные слои и аспекты

| Слой | Что описывает |
| --- | --- |
| Strategy / Motivation | драйверы, цели, результаты, принципы |
| Business | роли, процессы, бизнес-сервисы |
| Application | приложения, компоненты, интерфейсы, сервисы |
| Technology | узлы, сети, инфраструктурные сервисы |
| Physical (опционально) | устройства, оборудование, физическая среда |
| Implementation & Migration | программы изменений, дорожные карты |

## Когда применять

- enterprise-уровень: портфель инициатив, трансформация, консолидация ландшафта;
- анализ последствий изменений для нескольких доменов;
- согласование целевой архитектуры с бизнес-целями.

## Пример

```kroki-plantuml
@startuml
left to right direction
skinparam componentStyle rectangle

rectangle "Цель: Сократить время выдачи кредита" as Goal

package "Business Layer" {
  rectangle "Процесс: Рассмотрение заявки" as BP
  actor "Кредитный менеджер" as Role
}

package "Application Layer" {
  rectangle "Loan Origination Service" as LOS
  rectangle "Scoring API" as Score
  database "Customer DB" as CDB
}

package "Technology Layer" {
  node "Kubernetes" as K8s
  node "Message Broker" as MQ
}

Goal --> BP : достигается через
Role --> BP : выполняет
BP --> LOS : использует
LOS --> Score : вызывает
LOS --> CDB : читает/пишет
LOS --> MQ : публикует события
LOS --> K8s : развернут на
@enduml
```

## Пошаговый алгоритм построения

1. Зафиксируйте бизнес-вопрос (`зачем строим модель`).
1. Выберите viewpoint: мотивационный, процессный, прикладной, технологический.
1. Постройте цепочку от цели к процессу, приложению и инфраструктуре.
1. Добавьте критические зависимости и владельцев.
1. Проверьте модель на сценарии изменения: "что затронем, если меняем X".

## Типовые ошибки

- смешение разных уровней детализации в одной диаграмме;
- отсутствие мотивационного слоя (цель есть в тексте, но нет в модели);
- диаграмма без практического вопроса и, как следствие, без фокуса.

## Визуальные рекомендации

- делите диаграмму по слоям и поддерживайте единое направление чтения;
- ограничивайте число типов связей на одном листе;
- используйте отдельные диаграммы по viewpoint вместо "всего сразу".

## Связь с другими нотациями

- `C4`: ArchiMate дает enterprise-контекст, C4 - системную детализацию.
- `BPMN`: процессы из бизнес-слоя ArchiMate можно детализировать BPMN.
- `DFD/ERD`: прикладной слой ArchiMate связывается с потоками и моделью данных.

## Инструменты

- Archi (основной open-source инструмент для ArchiMate)
- [Draw.io](../tools/drawio.md)
- [PlantUML](../tools/plantuml.md)
