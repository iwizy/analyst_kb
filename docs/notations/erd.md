# ERD

Entity-Relationship Diagram (ERD) — это диаграммы «Сущность-Связь», которые используются для моделирования данных и их взаимосвязей в базе данных. Они помогают разработчикам, архитекторам данных и аналитикам визуализировать, как данные организованы и связаны между собой.

## Основные элементы ERD

Сущность (Entity) — это объект реального мира, который имеет набор характеристик. В реляционной базе данных сущности представляются в виде таблиц. Примеры сущностей: "Пользователь", "Заказ", "Курс".

Атрибут (Attribute) — это характеристики (поля) сущности. Например, у сущности "Пользователь" могут быть атрибуты: "ID", "Имя", "Email".

Ключи:

- Первичный ключ (Primary Key, PK) — уникальный идентификатор каждой записи.

- Внешний ключ (Foreign Key, FK) — атрибут, который ссылается на первичный ключ другой сущности.
  Связи (Relationships) между сущностями:

- 1:1 (One-to-One) — один к одному (один человек — один паспорт).

- 1:M (One-to-Many) — один ко многим (один пользователь может сделать несколько заказов).

- M:N (Many-to-Many) — многие ко многим (студенты записаны на курсы, и курсы включают нескольких студентов).

## Пример 1: Связь один ко многим (1:M) между "Пользователь" и "Заказ"

### Описание

Допустим, у нас есть пользователи, которые могут размещать заказы. Каждый заказ принадлежит только одному пользователю, но у пользователя может быть много заказов. Это отношение один ко многим (1:M).

#### ER-диаграмма

#### Разбор диаграммы

USER — таблица пользователей.

- id — первичный ключ (PK), уникально идентифицирует пользователя.

- name — имя пользователя.

- email — email пользователя.
  ORDER — таблица заказов.

- id — первичный ключ (PK), уникально идентифицирует заказ.

- order_date — дата создания заказа.

- user_id — внешний ключ (FK), который ссылается на USER.id.
  Связь USER ||--o{ ORDER : places указывает на отношение 1:M, где:

- Один пользователь (USER) может размещать несколько заказов (ORDER).

- В таблице ORDER есть внешний ключ user_id, указывающий на пользователя, которому принадлежит заказ.

## Пример 2: Связь многие ко многим (M:N) между "Студент" и "Курс"

### Описание

Рассмотрим ситуацию, в которой студенты записываются на курсы, а курсы включают нескольких студентов. Это классическая связь многие ко многим (M:N).

Поскольку реляционные базы данных не поддерживают такие связи напрямую, нам необходимо создать промежуточную таблицу ENROLLMENT (Запись на курс), которая будет содержать внешние ключи на STUDENT и COURSE.

#### ER-диаграмма

#### Разбор диаграммы

STUDENT (Студент)

- id — первичный ключ.

- name — имя студента.
  COURSE (Курс)

- id — первичный ключ.

- title — название курса.
  ENROLLMENT (Запись на курс) — промежуточная таблица.

- id — первичный ключ.

- student_id — внешний ключ на STUDENT.id.

- course_id — внешний ключ на COURSE.id.

- enrollment_date — дата записи.
  Связи:

- STUDENT ||--o{ ENROLLMENT : enrolls → студент записывается на курс.

- COURSE ||--o{ ENROLLMENT : includes → курс включает студентов.

## Пример 3: Наследование (Generalization)

### Описание

Допустим, в базе данных есть таблица VEHICLE (Транспортное средство), от которой наследуются CAR (Автомобиль) и BIKE (Мотоцикл). Это пример наследования (Generalization), когда у родительской сущности есть общие атрибуты, а дочерние сущности добавляют свои.

#### ER-диаграмма

#### Разбор диаграммы

VEHICLE (Транспортное средство) — родительская сущность.

- id — первичный ключ.

- type — тип транспортного средства (например, "автомобиль" или "мотоцикл").
  CAR (Автомобиль) и BIKE (Мотоцикл) наследуют VEHICLE:

- vehicle_id — внешний ключ, связывающий их с VEHICLE.id.

- CAR имеет атрибуты model (модель) и seats (количество мест).

- BIKE имеет атрибут engine_type (тип двигателя).
  Связи:

- VEHICLE ||--o{ CAR : extends → автомобиль наследует транспортное средство.

- VEHICLE ||--o{ BIKE : extends → мотоцикл наследует транспортное средство.

## Итог

ER-диаграммы помогают визуализировать структуру базы данных, определяя сущности, атрибуты и связи между ними. Использование Mermaid позволяет удобно описывать такие диаграммы, что полезно при проектировании БД и ее документировании.
