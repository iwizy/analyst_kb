# Нотации и моделирование

Раздел помогает системному аналитику выбирать нотацию под задачу, строить понятные диаграммы и связывать модели с требованиями, архитектурой, интеграциями и данными.

## Уровни сложности

### Базовый уровень

- понимать, зачем моделировать и какие есть классы нотаций;
- различать процессные, структурные, архитектурные и аналитические модели;
- выбирать нотацию по цели коммуникации.

### Средний уровень

- строить набор взаимосвязанных моделей (процесс + данные + архитектура);
- поддерживать единый глоссарий и трассировку между артефактами;
- проводить ревью диаграмм по quality-критериям.

### Продвинутый уровень

- выстраивать governance моделирования на уровне команды/домена;
- применять модели для принятия архитектурных и продуктовых решений;
- автоматизировать моделирование в docs-as-code/CI-процессах.

## Зачем моделирование

| Цель | Результат | Для кого |
| --- | --- | --- |
| Снизить неоднозначность требований | единая интерпретация границ и поведения | BA, PO, QA, Dev |
| Согласовать архитектуру | видимость компонентов, зависимостей, потоков | Архитектор, Tech Lead |
| Уточнить данные и контракты | корректная структура сущностей и интерфейсов | BA, Data Engineer |
| Ускорить изменения | быстрее анализ влияния и оценка рисков | PM, команда разработки |

## Уровни моделирования

| Уровень | Что описывает | Типовые нотации |
| --- | --- | --- |
| Концептуальный | контекст, цели, границы, ключевые сущности | C4 C1, Goal Map, Context DFD |
| Логический | процессы, правила, связи сущностей, взаимодействия | BPMN, UML, ERD, DFD |
| Физический | технологическая реализация, таблицы, API, deployment | C4 C2/C3, SQL ERD, Archimate |

## Сквозной пример: процесс покупки

1. Концептуальный уровень: карта целей показывает, зачем внедряется "быстрый checkout".
2. Логический уровень: BPMN фиксирует шаги оформления и возврата.
3. Физический уровень: ERD и API-контракты показывают таблицы, связи и поля.

```kroki-plantuml
@startuml
left to right direction
rectangle "Goal Map\nСократить брошенные корзины" as G
rectangle "BPMN\nОформление заказа" as B
rectangle "ERD/API\nOrder, Payment, Shipment" as D
G --> B : уточнение процесса
B --> D : детализация реализации
@enduml
```

## Связь с другими разделами базы знаний

- С требованиями: контекстные диаграммы и карты целей поддерживают [определение границ системы](../requirements/system-boundaries/index.md) и [выявление стейкхолдеров](../requirements/stakeholders.md).
- С архитектурой: C4 и Archimate дополняют [архитектуру информационных систем](../architecture/systems-architecture/index.md).
- С БД: ERD и DFD напрямую связаны с [проектированием модели данных](../database/data-modeling.md) и [нормализацией](../database/normalization/index.md).
- С интеграциями: Sequence/C4/Archimate помогают проектировать [интеграционные паттерны](../integrations/integration-methods/patterns.md).

## Классы нотаций и выбор

| Класс | Нотации | Когда выбирать |
| --- | --- | --- |
| Процессные | BPMN, eEPC, IDEF0 | описать flow работы и роли |
| Структурные | UML Class, ERD, DFD | описать сущности, связи, данные |
| Архитектурные | C4, Archimate | показать систему и технологический ландшафт |
| Аналитические | Fishbone, Decision Tree, Goal/Impact Map | найти причины, приоритизировать решения |
| Оценочные | CMMI, COBIT, ACMM | оценить зрелость процесса и управление |

## Плюсы и минусы системного моделирования

| Плюсы | Минусы |
| --- | --- |
| быстрее согласование сложных решений | требуется время на актуализацию моделей |
| меньше неоднозначности в требованиях | при перегрузке диаграмма теряет ценность |
| лучше трассировка от цели к реализации | нужен единый стандарт нотаций в команде |

## Чек-лист подготовки модели

- зафиксирована бизнес-цель модели;
- определена аудитория (бизнес, разработка, эксплуатация);
- выбран уровень детализации (концепт/логика/физика);
- согласована терминология и глоссарий;
- назначен владелец модели и период актуализации;
- определены ссылки на связанные требования и решения.

## Единые правила визуальной чистоты

1. На верхнем уровне держите 5-7 ключевых блоков.
2. Смешивайте только один уровень абстракции на диаграмме.
3. Используйте единые названия и цвета для одинаковых сущностей.
4. Минимизируйте пересечения линий и двусмысленные стрелки.
5. Добавляйте легенду и нотацию версий модели.

## Рекомендуемая визуальная конвенция

| Категория | Цвет/стиль (рекомендация) |
| --- | --- |
| Процессы и функции | синий |
| Данные и хранилища | зеленый |
| Интеграции/сообщения | оранжевый |
| Риски и проблемы | красный |
| Внешние системы | серый контур |

## Совместная работа и version control

| Практика | Рекомендация |
| --- | --- |
| Naming conventions | единый шаблон имен: `Domain_Object_Action` |
| Review | обязательный peer review моделей перед релизом |
| Versioning | хранить диаграммы рядом с документацией в Git |
| Трассировка | ссылки на requirement ID, ADR, API contracts |
| CI | проверка синтаксиса диаграмм и битых ссылок |

## Инструменты и форматы

| Класс инструментов | Примеры | Когда выбирать |
| --- | --- | --- |
| Настольные | Enterprise Architect, MagicDraw, Visual Paradigm | большой репозиторий моделей, XMI, governance |
| Облачные | Lucidchart, draw.io, Cacoo | быстрый совместный воркшоп, онлайн-редактирование |
| Текст-как-код | PlantUML, Mermaid, Structurizr DSL | Git-flow, code review, CI/CD генерация |
| BPMN-редакторы | Camunda Modeler, Signavio | исполняемые BPMN и process automation |
| Archimate-инструменты | Archi, BizzDesign | enterprise architecture repository |

| Формат | Когда использовать |
| --- | --- |
| SVG | публикация в документации, масштабируемая графика |
| PNG | вставка в презентации и quick-share |
| PDF | согласования и формальные пакеты документов |
| XMI | обмен UML-моделями между инструментами |
| DSL source | version control и CI генерация диаграмм |

## Интеграция в документацию и CI/CD

1. Храните исходники диаграмм рядом с Markdown-статьями.
2. Проверяйте синтаксис диаграмм на этапе pull request.
3. Генерируйте диаграммы автоматически в пайплайне.
4. Публикуйте артефакты в Confluence/Docs-портал.
5. Добавляйте changelog моделей и ссылку на requirement/ADR.

## Переход к подразделам

- [UML](uml/index.md)
- [BPMN](bpmn.md)
- [C4](c4.md)
- [ERD](erd.md)
- [DFD](dfd.md)
- [eEPC](eepc.md)
- [IDEF0](idef0.md)
- [Archimate](archimate.md)
- [Диаграмма Исикавы](fishbone-diagram.md)
- [Деревья решений](decision-trees.md)
- [Карта целей](goals-map.md)
- [Impact Map](impact-map.md)
- [Модели зрелости](maturity-models/index.md)
## Стандарты и источники

- UML 2.5.1 (OMG): <https://www.omg.org/spec/UML/2.5.1>
- BPMN 2.0.2 (OMG): <https://www.omg.org/spec/BPMN/2.0.2>
- C4 model: <https://c4model.com/>
- Archimate 3.2 (Open Group): <https://pubs.opengroup.org/architecture/archimate3-doc/>
- BABOK v3: <https://www.iiba.org/standards-and-resources/babok/>
- Fowler, UML Distilled: <https://martinfowler.com/books/uml.html>
