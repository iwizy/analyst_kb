# [UML](../../glossary.md#abbr-092) Activity Diagram

[Диаграмма](../../glossary.md#term-022) активностей показывает поток работ, ветвления и параллельные действия. Подходит для описания бизнес- и системных процессов средней детализации.

## Уровни сложности

### Базовый уровень

- использовать start/end, action и decision;
- читать и строить поток управления;
- моделировать простые ветвления.

### Средний уровень

- использовать fork/join для параллельных шагов;
- добавлять swimlane по ролям;
- описывать pre/post conditions.

### Продвинутый уровень

- применять activity-модель для оптимизации процесса;
- связывать диаграмму с [KPI](../../glossary.md#abbr-047) и метриками [SLA](../../glossary.md#abbr-079);
- использовать как мост между [BPMN](../../glossary.md#abbr-009) и технической реализацией.

## Элементы и синтаксис

| Элемент | Назначение |
| --- | --- |
| Initial node | начало потока |
| Action | действие |
| Decision/Merge | ветвление/слияние |
| Fork/Join | параллельные ветви |
| Final node | завершение процесса |
| Swimlane | зона ответственности роли |

## Пример: обработка возврата

```kroki-plantuml
@startuml
start
:Получить заявку на возврат;
if (Срок возврата не истек?) then (да)
  fork
    :Проверить оплату;
  fork again
    :Проверить состояние товара;
  end fork
  if (Все проверки пройдены?) then (да)
    :Подтвердить возврат;
    :Инициировать возврат средств;
  else (нет)
    :Отклонить возврат;
  endif
else (нет)
  :Отклонить заявку;
endif
stop
@enduml
```

## Плюсы и минусы

| Плюсы | Минусы |
| --- | --- |
| хорошо показывает логику ветвлений и параллельность | хуже для межсистемных взаимодействий |
| понятна бизнесу и разработке | легко перегрузить деталями |
| полезна перед автоматизацией процесса | слабее формализация ролей, чем в [BPMN](../../glossary.md#abbr-009) |

## Когда выбирать

- описываете алгоритм обработки заявки/заказа/инцидента;
- нужно обсудить ветвления и правила принятия решения;
- BPMN избыточна для задачи, но блок-схемы недостаточно.

## Как строить

1. Определите старт/финиш и результат процесса.
2. Выпишите действия в естественном порядке.
3. Добавьте decision только в точках реального выбора.
4. Используйте fork/join для независимых параллельных шагов.
5. Проверьте, что каждая ветка приводит к завершению.

## Типичные ошибки и как избежать

| Ошибка | Как избежать |
| --- | --- |
| ветки без выхода | завершайте каждый путь понятным исходом |
| лишние decisions | оставляйте только бизнес-значимые развилки |
| пересечение стрелок | перегруппируйте блоки и упростите поток |
| нет критериев перехода | подписывайте условия на ветвлениях |

## Инструменты и форматы

- PlantUML, draw.io, Visual Paradigm;
- экспорт: SVG, PNG, PDF.
## Стандарты и источники

- [UML](../../glossary.md#abbr-092) 2.5.1 Activity: <https://www.omg.org/spec/UML/2.5.1>
- PlantUML activity docs: <https://plantuml.com/activity-diagram-beta>
