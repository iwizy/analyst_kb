# Диаграмма классов

Диаграмма классов (Class Diagram) показывает статическую структуру модели:
сущности, их атрибуты, операции и связи. Для аналитика это удобный мост между
предметной областью и реализацией.

## Основные элементы

- Class: имя, атрибуты, операции.
- Visibility: `+` public, `-` private, `#` protected.
- Association: связь между классами.
- Aggregation/Composition: отношение "часть-целое".
- Generalization: наследование.
- Dependency: временное использование.

## Пример доменной модели заказа

```kroki-plantuml
@startuml
hide empty members

class User {
  +id: UUID
  +email: String
}

class Order {
  +id: UUID
  +status: OrderStatus
  +totalAmount(): Money
}

class OrderItem {
  +quantity: int
  +price: Money
}

class Product {
  +sku: String
  +name: String
}

User "1" -- "0..*" Order
Order "1" *-- "1..*" OrderItem
OrderItem "*" --> "1" Product
@enduml
```

Здесь:

- `User` имеет много `Order`;
- `Order` композиционно владеет `OrderItem`;
- `OrderItem` ссылается на `Product`.

## Как строить

1. Выделите ключевые сущности предметной области.
1. Опишите обязательные атрибуты и идентификаторы.
1. Зафиксируйте кратности связей (`1`, `0..1`, `0..*`, `1..*`).
1. Добавьте бизнес-правила, которые влияют на модель (инварианты).
1. Сверьте диаграмму с ERD и API-контрактами.

## Типичные ошибки

- превращение class diagram в диаграмму таблиц БД без поведения;
- отсутствие кратностей и направлений связей;
- дублирование одной сущности в нескольких названиях.

## Чек-лист качества

- Классы названы в терминах предметной области.
- Для связей определены кратности и тип отношения.
- Модель поддерживает ключевые сценарии из требований.
