# Циклы

Циклы позволяют повторять операции над наборами данных и являются базой
большинства алгоритмов обработки. Для аналитика важно понимать стоимость
итераций и условия завершения.

## Когда использовать

- последовательная обработка списка или потока;
- агрегации, фильтрация, валидация записей;
- построчная обработка файлов/логов.

## Основные конструкции

- `for`: когда известен набор элементов или диапазон.
- `while`: когда повторяем до выполнения условия.
- `break`/`continue`: управление выходом и пропуском шага.

## Пример: суммирование валидных платежей

```python
def sum_valid_payments(payments):
    total = 0
    for payment in payments:
        if payment.get("status") != "SUCCESS":
            continue
        total += payment.get("amount", 0)
    return total
```

Сложность такого прохода: `O(n)` по времени и `O(1)` по памяти.

## Схема обработки цикла

```kroki-plantuml
@startuml
start
:Инициализировать i = 0, sum = 0;
while (i < N?) is (да)
  :Проверить элемент;
  if (Элемент валиден?) then (да)
    :sum = sum + value[i];
  endif
  :i = i + 1;
endwhile (нет)
:Вернуть sum;
stop
@enduml
```

## Типичные ошибки

- бесконечный цикл из-за неверного условия выхода;
- модификация коллекции во время итерации без контроля;
- вложенные циклы `O(n^2)` там, где возможен индекс/хеш.

## Чек-лист качества

- У цикла есть гарантированное условие завершения.
- Понятны границы и поведение на пустом входе.
- Для больших `n` нет лишней вложенности.
