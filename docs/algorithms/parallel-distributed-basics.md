# Параллельные и распределенные алгоритмы (базовый уровень)

Параллельные и распределенные алгоритмы позволяют ускорить обработку и повысить отказоустойчивость, но добавляют сложность синхронизации и консистентности.

## Уровни сложности

### Базовый

- различать параллелизм и конкуренцию;
- понимать map-reduce и parallel sum;
- знать базовые принципы consensus.

### Средний

- оценивать overhead синхронизации;
- выбирать паттерн parallel decomposition;
- понимать ограничения CAP и сетевых отказов.

### Продвинутый

- проектировать устойчивые распределенные пайплайны;
- выбирать протоколы консенсуса под SLA;
- учитывать детерминизм и репликацию состояния.

## Ключевые понятия

| Термин | Кратко |
| --- | --- |
| Параллелизм | одновременное выполнение задач |
| Конкуренция | координация доступа к разделяемым ресурсам |
| Распределенные вычисления | вычисления на множестве узлов по сети |

## Примеры

### Parallel sum

```text
split array into k chunks
in parallel: sum each chunk
reduce partial sums into final sum
```

### Map-Reduce

```text
map(key, value) -> list(intermediate)
shuffle/group by intermediate key
reduce(key, values) -> output
```

### Parallel merge sort

- рекурсивно сортирует части на разных ядрах;
- merge выполняется иерархически.

### Bitonic sort (кратко)

- специализирован для параллельных архитектур;
- часто используется в GPU/аппаратных реализациях.

## Consensus (основы)

| Протокол | Идея | Где применяют |
| --- | --- | --- |
| Paxos | консенсус в условиях отказов | распределенные хранилища |
| Raft | более понятная инженерная модель лидера | k8s etcd, metadata services |

## Плюсы и минусы

| Плюсы | Минусы |
| --- | --- |
| ускорение вычислений | синхронизационный overhead |
| масштабирование по узлам | сложность отладки race conditions |
| отказоустойчивость при репликации | сеть и консистентность как источник сбоев |

## Ограничения и предупреждение

Эта статья покрывает только базовый уровень. Для продакшн-применения нужны отдельные углубленные материалы по concurrency control, distributed transactions и consistency models.

## Контрольные вопросы

1. Почему линейное ускорение при параллелизме достигается редко?
2. Какие задачи лучше всего подходят для map-reduce?
3. Чем Raft проще Paxos с точки зрения сопровождения?
4. Какие новые риски возникают в распределенном алгоритме?

## Задачи для самопроверки

1. Спроектируйте parallel sum для массива 100 млн элементов.
2. Опишите map-reduce pipeline для подсчета топ-слов в логах.
3. Сравните single-node и distributed версию задачи по overhead.

## Источники и дальнейшее изучение

- Dean & Ghemawat, *MapReduce*.
- Ongaro & Ousterhout, *In Search of an Understandable Consensus Algorithm (Raft)*.
- Designing Data-Intensive Applications (Kleppmann).
