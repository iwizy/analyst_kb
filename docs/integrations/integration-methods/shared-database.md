# Общая БД

Интеграция через shared database означает, что несколько систем читают и/или пишут в одно хранилище.

## Когда применять

- монолит или tightly-coupled bounded context;
- низкая допустимая задержка между системами;
- единый владелец схемы и дисциплина изменений.

## Риски

- сильная связность систем;
- единая точка отказа и деградации;
- конфликт миграций и схемы;
- сложность масштабирования независимых команд.

## Диаграмма

```kroki-plantuml
@startuml
rectangle "Service A" as A
rectangle "Service B" as B
database "Shared DB" as DB
A --> DB : read/write
B --> DB : read/write
@enduml
```

## Практические правила (если подход выбран)

- выделить schema ownership и migration process;
- запретить несанкционированные cross-table updates между доменами;
- использовать read-only роли для потребителей, где возможно;
- вводить CDC для постепенного перехода к событиям/API.

## Когда лучше выбрать другой подход

- независимый релизный цикл команд;
- высокая нагрузка и необходимость автономного масштабирования;
- много внешних интеграторов.

## Смежные материалы

- [API](api/index.md)
- [Брокеры сообщений](message-brokers/index.md)
