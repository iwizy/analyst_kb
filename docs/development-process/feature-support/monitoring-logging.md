# Мониторинг и логирование

Мониторинг и логирование дают наблюдаемость системы: позволяют увидеть, что
происходит в продукте, и быстро локализовать проблему.

## Компоненты наблюдаемости

- метрики: latency, error rate, throughput, saturation;
- логи: структурированные записи событий;
- трассировка: путь запроса через сервисы;
- алерты: уведомления по порогам и SLO.

## Минимальный поток обработки

```kroki-plantuml
@startuml
start
:Сервис пишет метрики и логи;
:Система мониторинга анализирует сигналы;
if (Порог превышен?) then (Да)
  :Создать алерт;
  :Оповестить дежурного;
else (Нет)
  :Продолжить наблюдение;
endif
stop
@enduml
```

## Практические рекомендации

1. Определяйте метрики от пользовательского сценария, а не только от инфраструктуры.
1. Используйте единый формат логов и correlation id.
1. Для алертов описывайте runbook и путь эскалации.

## Чек-лист качества

- Метрики покрывают критичные пользовательские операции.
- Логи позволяют восстановить хронологию инцидента.
- Алерты минимизируют шум и приводят к конкретным действиям.
