# Оценка трудоемкости

Оценка трудоемкости нужна для реалистичного планирования, прогнозирования ресурсов и управления ожиданиями. Трудоемкость это объем работы, а не календарная длительность.

## Уровни сложности

### Базовый уровень

- знать базовые методы оценки: Planning Poker, T-shirt, PERT;
- фиксировать допущения и ограничения;
- различать effort и duration.

### Средний уровень

- применять Wideband Delphi и three-point estimation;
- использовать velocity и burn-up/burn-down для прогноза;
- учитывать риски в диапазоне оценки.

### Продвинутый уровень

- применять Monte Carlo simulation;
- использовать исторические данные (story points, function points);
- связывать оценку с бюджетом и capacity на уровне программы.

## Ключевое правило: effort != календарный срок

`Календарный срок = Трудоемкость / Доступная емкость + буферы + зависимости`

Пример:

- трудоемкость задачи: 10 идеальных дней;
- доступная емкость команды: 2 FTE;
- календарно без потерь: 5 рабочих дней;
- с учетом встреч, зависимостей и буфера: 7-9 дней.

## Методы оценки

### Planning Poker

Пошагово:

1. Подготовить декомпозированный backlog.
2. Уточнить AC и ограничения.
3. Каждый участник выбирает карту (обычно Фибоначчи: 1,2,3,5,8,13,21).
4. Открыть карты одновременно.
5. При расхождении обсудить крайние оценки.
6. Повторить раунд до консенсуса.

Фасилитация:

- ограничивать обсуждение 2-4 минутами на item;
- фиксировать предпосылки рядом с оценкой;
- не давать лидеру доминировать в обсуждении.

### Wideband Delphi

Пошагово:

1. Раздать задачу экспертам для индивидуальной оценки.
2. Собрать оценки анонимно.
3. Обсудить расхождения и предпосылки.
4. Повторить раунд оценки.
5. Зафиксировать консенсус и диапазон.

### PERT / Three-Point Estimation

Формула ожидаемой оценки:

`E = (O + 4M + P) / 6`

Где:

- `O` — оптимистичная оценка;
- `M` — наиболее вероятная;
- `P` — пессимистичная.

Пример:

- O = 3 дня, M = 5 дней, P = 11 дней.
- E = (3 + 4*5 + 11) / 6 = 5.67 дня.

Подход к выбору O/P:

- O: при идеальных условиях и без блокеров;
- P: при возникновении 1-2 ключевых рисков;
- M: реалистичный сценарий по историческим данным.

### T-shirt Size

Категории: XS/S/M/L/XL.  
Применяется для раннего портфельного ранжирования до детализации.

### Planning Game (XP)

- бизнес формирует приоритет и ценность;
- команда оценивает стоимость;
- релизный план строится на балансе value/cost.

### Монте-Карло (базовый сценарий)

1. Собрать исторический throughput/velocity.
2. Задать диапазон задач и срок.
3. Сгенерировать симуляции выполнения (например, 1000 прогонов).
4. Выбрать P50/P85/P95 прогноз.

Интерпретация:

- P50: 50% вероятность уложиться;
- P85: более надежный план для commitments.

### Аналогия по историческим данным

- сравнение с похожими задачами прошлого;
- использование function points/story points по историческим коэффициентам;
- корректировка по доменным и архитектурным отличиям.

## Сравнение методов

| Метод | Скорость | Требуемая экспертиза | Точность | Применимость |
| --- | --- | --- | --- | --- |
| Planning Poker | средняя | средняя | средняя/высокая | Agile backlog |
| Wideband Delphi | низкая/средняя | высокая | высокая | сложные инициативы |
| PERT/Three-point | средняя | средняя | высокая при корректных O/M/P | риск-ориентированные задачи |
| T-shirt Size | высокая | низкая | низкая/средняя | ранний roadmap |
| Planning Game | средняя | средняя | средняя | XP/Agile planning |
| Monte Carlo | средняя/низкая | высокая | высокая для прогнозов | release/program прогноз |

## Чек-лист выбора метода

- насколько стабилен scope;
- есть ли исторические данные;
- нужен точный прогноз или быстрый ранжир;
- размер команды и доступность экспертов;
- уровень риска и неопределенности.

## Практический пример: оценка спринта

Backlog:

| Задача | Метод | Оценка | Предпосылки | Риски |
| --- | --- | --- | --- | --- |
| Интеграция с платежным API | PERT | 5.7 дня | контракт стабильный | риск изменений API |
| Новая форма checkout | Planning Poker | 8 SP | макет согласован | риск UX-правок |
| Логи и алерты | T-shirt -> Poker | M -> 3 SP | стандарт логирования есть | риск false-positive алертов |

Шаги:

1. Декомпозировать задачи до уровня 1-3 дней/единиц.
2. Зафиксировать зависимости и неизвестные.
3. Оценить трудоемкость.
4. Добавить буфер на риски.
5. Сопоставить с capacity команды.

## Связь с ресурсами и бюджетом

- оценки в effort переводятся в бюджет через стоимость FTE;
- диапазон оценки определяет объем contingency reserve;
- пересчет бюджета проводится при значимом изменении scope.

## Типичные ошибки

- путать story points и часы без калибровки;
- оценивать эпики без декомпозиции;
- игнорировать non-project activities (meeting/support/incidents);
- превращать оценку в обязательство без обновления предпосылок.

## Чек-лист самопроверки

- для оценок зафиксированы предпосылки;
- неопределенность выражена диапазоном;
- оценки связаны с capacity и рисками;
- есть процесс переоценки по факту.

## Контрольные вопросы

1. Почему effort нельзя напрямую считать календарным сроком?
2. Когда лучше применять Wideband Delphi, а не Planning Poker?
3. Как выбрать O/M/P для PERT без искусственного оптимизма?
4. Как использовать velocity для прогноза релиза?

## Источники

- PMBOK Guide (estimating).
- Cohn, *Agile Estimating and Planning*.
- Scrum Guide.
- Forsgren/Kim/Humble, *Accelerate*.
