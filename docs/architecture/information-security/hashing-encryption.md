# Хеширование и шифрование

Хеширование и шифрование решают разные задачи. Хеш подтверждает целостность,
шифрование защищает конфиденциальность данных.

## Ключевые отличия

| Характеристика | Хеширование | Шифрование |
| --- | --- | --- |
| Обратимость | необратимо | обратимо при наличии ключа |
| Основная цель | целостность, проверка совпадений | конфиденциальность |
| Примеры | SHA-256, Argon2, bcrypt | AES, ChaCha20, RSA |

## Где применяется

- Хеширование: хранение паролей (с солью и memory-hard алгоритмом), контроль
  целостности файлов.
- Шифрование: защита данных "на диске" и "в канале", защищенный обмен ключами.

## Пример безопасного хранения пароля

1. Генерируется уникальная соль.
1. Пароль хешируется алгоритмом `Argon2id`.
1. В БД сохраняются только соль и хеш.
1. При проверке выполняется повторный хеш и сравнение результата.

## Типичные ошибки

- хранение паролей в симметрично зашифрованном виде вместо хеша;
- использование устаревших алгоритмов (`MD5`, `SHA-1`) для паролей;
- общий ключ шифрования для разных контуров без ротации.

## Чек-лист качества

- Для паролей используются `Argon2id`, `bcrypt` или `scrypt`.
- Для шифрования данных применяются актуальные алгоритмы и режимы.
- Реализована ротация ключей и контроль срока жизни ключевого материала.

## Практическое дополнение

1. Перед применением подхода зафиксируйте измеримую цель (SLA, lead time, error rate, time-to-market).
1. На архитектурном review проверяйте соответствие решения ограничениям безопасности, интеграций и эксплуатации.
1. Добавляйте в backlog минимум одну задачу на снижение архитектурного риска для каждой high-impact зоны.
