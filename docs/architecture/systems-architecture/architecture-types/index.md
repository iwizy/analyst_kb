# Виды архитектур

Выбор архитектурного стиля — это выбор управляемых компромиссов между скоростью изменений, стоимостью эксплуатации и устойчивостью системы.

## Уровни сложности

### Базовый уровень

- понимать базовые различия между монолитом, SOA и микросервисами;
- выбирать стиль для MVP и роста команды;
- оценивать плюсы/минусы без привязки к хайпу.

### Средний уровень

- учитывать [NFR](../../../glossary.md#abbr-053) и операционную зрелость;
- сопоставлять стиль и оргструктуру команд;
- планировать эволюцию стиля при росте продукта.

### Продвинутый уровень

- комбинировать стили в одной системе;
- управлять migration path и техническим долгом;
- оценивать стоимость владения на горизонте 2-3 лет.

## Сравнение архитектурных стилей

| Стиль | Сильные стороны | Ограничения | Когда выбирать |
| --- | --- | --- | --- |
| [Монолит](monolith.md) | простой запуск, единый контур | сложнее масштабировать частями | MVP, early-stage продукт |
| [Модульный монолит](modular-monolith.md) | баланс простоты и модульности | нужен контроль границ модулей | рост продукта до 3-6 команд |
| [Многослойная](multilayer.md) | понятное разделение слоев | риск избыточной слойности | enterprise back-office |
| [SOA](soa.md) | контрактность и интеграция enterprise | тяжеловесный governance | крупные интеграционные контуры |
| [Микросервисы](microservices.md) | независимый релиз и scaling | distributed complexity | крупные домены и зрелый DevOps |
| [Микрофронтенды](microfrontends.md) | независимые [UI](../../../glossary.md#abbr-091)-команды | [UX](../../../glossary.md#abbr-093)/performance trade-off | большие продуктовые платформы |
| [Peer-to-peer](p2p.md) | децентрализация | сложность консенсуса и сети | p2p-сети, edge |
| [Event-Driven и Serverless](event-driven-serverless.md) | эластичность и слабая связность | сложнее observability и дебаг | event-heavy и burst нагрузка |

## Матрица выбора стиля

| Фактор | Низкий уровень | Высокий уровень |
| --- | --- | --- |
| Размер команды | монолит/модульный монолит | микросервисы/микрофронтенды |
| Интеграционная сложность | layered/monolith | SOA/event-driven |
| Скорость релизов | общий релизный контур | независимый деплой сервисов |
| Операционная зрелость | простой стек | platform engineering + SRE |

## Типичные антипаттерны при выборе стиля

- микросервисы до появления явных границ домена;
- shared database между «независимыми» сервисами;
- попытка решать оргпроблемы только архитектурой;
- отказ от архитектурной эволюции «потому что уже работает».

## Переход к подразделам

- [Клиент-серверная архитектура](client-server.md)
- [Монолитная архитектура](monolith.md)
- [Модульный монолит](modular-monolith.md)
- [Микросервисная архитектура](microservices.md)
- [Многослойная архитектура](multilayer.md)
- [SOA](soa.md)
- [Микрофронтенды](microfrontends.md)
- [Peer-to-peer](p2p.md)
- [Event-Driven и Serverless](event-driven-serverless.md)
- [MVC, MVP, MVVM](mvc-mvp-mvvm.md)
## Стандарты и источники

- Mark Richards, *Software Architecture Patterns*.
- Fowler architecture guides: <https://martinfowler.com/architecture/>
