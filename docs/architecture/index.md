# Проектирование и архитектура

Раздел описывает, как принимать архитектурные решения от уровня требований до эксплуатации: выбирать стиль системы, управлять компромиссами и документировать решения.

## Уровни сложности

### Базовый уровень

- понимать роль архитектуры в жизненном цикле продукта;
- различать ключевые архитектурные стили;
- связывать архитектурные решения с требованиями.

### Средний уровень

- выбирать стиль под NFR и контекст команды;
- проектировать взаимодействие сервисов, кэширование и надежность;
- обосновывать решения через ADR и диаграммы C4/UML.

### Продвинутый уровень

- управлять архитектурной эволюцией и миграциями;
- выстраивать архитектурный governance и review-процессы;
- балансировать скорость delivery, стоимость и технический риск.

## Что такое архитектура ПО

Архитектура ПО — это совокупность ключевых структур системы, их отношений, ограничений и решений, которые определяют:

- как система достигает бизнес-целей;
- как она масштабируется и восстанавливается при сбоях;
- насколько просто ее менять и сопровождать.

## Архитектурные характеристики

| Характеристика | Что означает | Влияние на решения |
| --- | --- | --- |
| Availability | доступность сервиса | redundancy, failover, health checks |
| Scalability | рост без деградации SLA | stateless design, sharding, autoscaling |
| Modifiability | скорость и безопасность изменений | модульность, слабая связность, контракты |
| Performance | время отклика и throughput | кэш, индексы, асинхронные потоки |
| Security | защита данных и каналов | mTLS, authz, шифрование, аудит |
| Testability | проверяемость поведения | чистые границы, dependency inversion, test seams |

## Роль системного аналитика в архитектуре

1. Переводит требования в архитектурные драйверы.
2. Выявляет компромиссы между NFR (например, consistency vs latency).
3. Уточняет границы доменов и интеграционные контракты.
4. Участвует в архитектурных ревью и фиксирует решения.

## Связь архитектуры с требованиями

- Функциональные требования определяют сценарии и границы ответственности.
- Нефункциональные требования задают ограничения по latency, надежности, безопасности и масштабу.
- Архитектурные решения должны иметь трассировку к этим требованиям.

Кросс-ссылки:

- [Требования](../requirements/index.md)
- [Интеграции](../integrations/index.md)
- [Базы данных](../database/index.md)
- [Нотации и моделирование](../notations/index.md)

## Карта архитектурного решения

```kroki-plantuml
@startuml
left to right direction
rectangle "Business Goals" as G
rectangle "Requirements\nFR/NFR" as R
rectangle "Architecture Drivers" as D
rectangle "Style + Patterns" as S
rectangle "Operational Model" as O
rectangle "ADR + Diagrams" as A
G --> R
R --> D
D --> S
S --> O
S --> A
@enduml
```

## Переход к разделам

- [Архитектура информационных систем](systems-architecture/index.md)
- [Подходы к проектированию](design-approaches/index.md)
- [Декомпозиция задач](task-decomposition.md)
- [Архитектура предприятия](enterprise-architecture/index.md)

## Контрольные вопросы

1. Какие архитектурные характеристики критичны для вашей системы?
2. Какие требования являются архитектурными драйверами?
3. Какие компромиссы уже приняты и где зафиксированы?
4. Какой риск будет, если не менять текущую архитектуру 12 месяцев?

## Чек-лист самопроверки

- архитектурные характеристики определены и ранжированы;
- FR/NFR связаны с конкретными решениями;
- границы доменов и интеграций зафиксированы;
- есть ADR по ключевым решениям;
- есть план пересмотра архитектуры.

## Стандарты и источники

- ISO/IEC/IEEE 42010: <https://www.iso.org/standard/50508.html>
- Software Architecture in Practice (Bass, Clements, Kazman)
- Martin Fowler architecture articles: <https://martinfowler.com/architecture/>
- O'Reilly Software Architecture patterns resources
