# Промпт-инжиниринг

> Глоссарий терминов и сокращений: [Открыть](../glossary.md)


Prompt engineering для аналитика это управляемое использование LLM для ускорения анализа, формализации и проверки артефактов.

## Уровни сложности

### Базовый уровень

- задавать роль, контекст, задачу и формат ответа;
- ограничивать объем и критерии качества;
- проверять результат перед использованием.

### Средний уровень

- применять few-shot и role-based prompting;
- структурировать задачи в цепочку шагов;
- использовать шаблоны для user stories, AC, test cases.

### Продвинутый уровень

- автоматизировать сценарии через orchestration tools;
- строить reusable prompt libraries;
- внедрять контроль рисков и качества LLM-вывода.

## Ключевые параметры

| Параметр | Зачем нужен |
| --- | --- |
| temperature | баланс детерминизма и вариативности |
| top_p | ограничение вероятностного хвоста |
| max tokens | контроль длины ответа |
| system prompt | правила поведения модели |

## Базовый шаблон промпта

1. Роль: "Ты системный аналитик..."
2. Контекст: домен, ограничения, целевая аудитория.
3. Задача: что требуется на выходе.
4. Формат: таблица, список, шаблон.
5. Критерии качества: полнота, проверяемость, стиль.

## Примеры для аналитика

### 1. Генерация acceptance criteria

Запрос: сформировать AC в формате Given/When/Then для user story по возвратам.

Проверка результата:

- есть positive/negative сценарии;
- AC измеримы;
- покрыты ограничения по безопасности и SLA.

### 2. Проверка согласованности требований

Запрос: найти противоречия между BRD и API-контрактом.

Проверка результата:

- найденные пункты подтверждены вручную;
- сформирован decision log с владельцами.

### 3. Генерация SQL-черновика

Запрос: создать SQL для когорты retention 30 дней.

Проверка результата:

- SQL валиден на тестовой БД;
- корректны timezone, дубликаты, `NULL`.

## Риски и mitigation

| Риск | Проявление | Mitigation |
| --- | --- | --- |
| Hallucination | вымышленные факты/ссылки | фактчекинг и ссылка на источники |
| Data leakage | отправка чувствительных данных | маскирование и policy по данным |
| Неверный тон | непригодный формат для команды | явные требования к стилю |
| Скрытые допущения | пропущенные ограничения | обязательный блок assumptions |

## Инструменты

- OpenAI Playground/ChatGPT;
- LangChain, LlamaIndex;
- локальные шаблоны промптов в Git/Confluence.

## Кросс-ссылки

- [Работа с требованиями](../requirements/index.md)
- [Основы тестирования](testing-fundamentals.md)
- [Инструменты API](../tools/api-tools.md)## Источники

- OpenAI docs: <https://platform.openai.com/docs>
- DeepLearning.AI Prompt Engineering: <https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/>
- LangChain docs: <https://python.langchain.com/>
