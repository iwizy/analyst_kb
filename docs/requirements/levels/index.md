# Уровни требований

Разделение требований по уровням показывает, как стратегическая цель превращается в проверяемую реализацию. Без этого слоя команды либо остаются на абстрактных формулировках, либо слишком рано уходят в технические детали.

## Зачем разделять требования по уровням

- сохранять связь `зачем -> что -> как`;
- исключать «лишние» функции без бизнес-обоснования;
- упрощать декомпозицию, приоритизацию и трассировку;
- делать прозрачными зоны ответственности между бизнесом и delivery-командой.

## Три основных уровня

| Уровень | Ключевой вопрос | Основные артефакты | Типовой владелец |
| --- | --- | --- | --- |
| Бизнес-требования (BR) | Зачем это делаем? | [BRD](../../glossary.md#abbr-010), цели, [KPI](../../glossary.md#abbr-047), ограничения | Заказчик, [PO](../../glossary.md#abbr-065), BA |
| Пользовательские требования (UR) | Что должен уметь пользователь? | User Story, Use Case, сценарии | BA, PO, [UX](../../glossary.md#abbr-093), [QA](../../glossary.md#abbr-067) |
| Системные требования (SR) | Как система это обеспечит? | FR/[NFR](../../glossary.md#abbr-053), [API](../../glossary.md#abbr-005)-контракты, [SRS](../../glossary.md#abbr-085) | BA, Tech Lead, Dev, QA |

Подробно:

- [Бизнес-требования](business.md)
- [Пользовательские требования](user.md)
- [Системные требования](system.md)

## Входы и выходы по уровням

| Уровень | Входы | Выходы |
| --- | --- | --- |
| BR | Стратегия, цели, ограничения, stakeholder expectations | KPI, scope/out-of-scope, целевые бизнес-результаты |
| UR | BR, исследования пользователей, процессы as-is/to-be | Сценарии, user stories/use cases, [AC](../../glossary.md#abbr-002) верхнего уровня |
| SR | UR, ограничения, архитектурный контекст | FR/NFR, интерфейсные требования, критерии проверки |

## Сквозной поток по уровням

1. Зафиксировать бизнес-цель, KPI и границы инициативы.
1. Выделить роли и ключевые пользовательские сценарии.
1. Декомпозировать сценарии в системные требования (FR/NFR).
1. Добавить acceptance criteria, тесты и связи трассировки.
1. Проверить целостность цепочки перед реализацией.

## Гейты перехода между уровнями

| Переход | Что должно быть готово | Кто подтверждает |
| --- | --- | --- |
| BR -> UR | KPI, владелец цели, границы scope | PO + BA |
| UR -> SR | Сценарии, edge-cases, AC верхнего уровня | BA + QA + Tech Lead |
| SR -> Delivery | FR/NFR, тестируемость, трассировка, приоритет | BA + QA + Delivery |

## Пример цепочки

| Шаг | Пример |
| --- | --- |
| Бизнес-цель | Снизить среднее время возврата с 48 до 12 часов |
| Пользовательское требование | Оператор оформляет частичный возврат за один рабочий экран |
| Системное требование (FR) | Система рассчитывает сумму возврата автоматически |
| Системное требование (NFR) | p95 расчета <= 1 сек при 100 [RPS](../../glossary.md#abbr-075) |
| Проверка | AC + test cases + мониторинг [SLA](../../glossary.md#abbr-079) |

## Иллюстрация связи уровней

```kroki-plantuml
@startuml
left to right direction
rectangle "Business Goal" as BG
rectangle "Business Requirements" as BR
rectangle "User Requirements" as UR
rectangle "System Requirements (FR/NFR)" as SR
rectangle "Acceptance Criteria & Tests" as AT

BG --> BR
BR --> UR
UR --> SR
SR --> AT
@enduml
```

## Критерии качества работы с уровнями

- каждое SR имеет явный источник в UR/BR;
- нет функций без бизнес-обоснования;
- пользовательские сценарии покрывают ключевые бизнес-цели;
- переход между уровнями понятен без «устных объяснений»;
- связи поддерживаются актуальными после CR.

## Типичные ошибки

- смешение уровней в одной формулировке;
- техническое решение на уровне BR;
- пропуск UR и переход сразу к задачам разработки;
- потеря связей при переносе требований в backlog.

## Практические рекомендации

- зафиксировать ID-схему по уровням (`BR-*`, `UR-*`, `FR-*`, `[NFR](../../glossary.md#abbr-053)-*`);
- проверять связи уровней на refinement;
- ввести quality gate: «нет источника -> нет реализации»;
- при изменениях обновлять всю цепочку, а не только один уровень.

## Инструменты поддержки

- Jira/Azure DevOps: иерархия и связи требований;
- Confluence/Git docs-as-code: шаблоны и версия артефактов;
- ReqView/Polarion/Jama: формальная трассировка и review-cycle.

## Смежные материалы

- [Структурирование требований](../structuring.md)
- [[Декомпозиция](../../glossary.md#term-019) требований](../decomposition.md)
- [[Трассировка](../../glossary.md#term-069) требований](../management/traceability.md)
- [Подходы к спецификации требований](../specification-approaches.md)

## Переход к подразделам

- [Бизнес-требования](business.md)
- [Пользовательские требования](user.md)
- [Системные требования](system.md)
