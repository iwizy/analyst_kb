# Пользовательские требования

> Глоссарий терминов и сокращений: [Открыть](../../glossary.md)


Пользовательские требования описывают задачи и сценарии роли в контексте реальной работы. Они связывают бизнес-цели с системной реализацией и помогают команде избежать «разработки ради функций».

## Цель

- зафиксировать ожидаемое поведение системы с точки зрения роли;
- описать контекст, ограничения и ожидаемый результат;
- подготовить основу для системных требований и тестов.

## Что фиксировать

- роль пользователя и триггер действия;
- цель сценария и ожидаемую ценность;
- основной поток и альтернативные/ошибочные ветки;
- ограничения и edge-cases;
- acceptance criteria в проверяемом виде.

## Форматы описания

- User Story;
- Use Case;
- сценарный поток (flow) с шагами и исключениями.

Подбор формата:

- простой спринтовый сценарий: User Story + AC;
- сложный бизнес-процесс: Use Case;
- интеграционно сложный поток: сценарная карта + ограничения + API-связи.

## Матрица выбора формата UR

| Контекст | Рекомендуемый формат | Почему |
| --- | --- | --- |
| Простая фича в 1 спринт | User Story | Короткий цикл согласования и реализации |
| Сложный регламентный процесс | Use Case | Нужны альтернативные потоки и условия |
| Высокая неопределенность | Story + прототип | Быстрая проверка гипотез на пользователях |

## Шаблон UR-карточки

```text
UR-XXX
Роль: <кто пользователь>
Контекст: <когда возникает сценарий>
Цель: <какой результат нужен пользователю>
Основной поток: <шаги>
Альтернативные потоки: <ошибки/исключения>
Acceptance Criteria: <проверяемые условия>
Связи: <BR, SR, тесты>
```

## Процесс подготовки

1. Собрать пользовательские задачи через интервью, наблюдение, аналитику.
1. Уточнить частоту, критичность и условия выполнения сценария.
1. Описать happy path и ключевые edge-cases.
1. Добавить измеримые acceptance criteria.
1. Согласовать с PO, Dev, QA (формат Three Amigos).

## Пример

```text
UR-041
Как оператор поддержки,
я хочу видеть историю обращений клиента за 12 месяцев,
чтобы быстрее решать повторные инциденты.

Acceptance Criteria:
- отображаются обращения за 12 месяцев;
- доступна фильтрация по статусу и приоритету;
- экран открывается не более чем за 2 секунды при стандартной нагрузке.
```

## Примеры UR по доменам

- Финтех:
  `Как клиент, я хочу видеть причину отказа платежа и следующий шаг, чтобы завершить оплату без обращения в поддержку.`
- E-commerce:
  `Как оператор, я хочу оформить частичный возврат по нескольким позициям, чтобы закрыть претензию в одном окне.`
- Госуслуги:
  `Как заявитель, я хочу видеть статус обработки заявления по этапам, чтобы понимать срок и причину задержки.`

## Пример edge-cases для UR

| Сценарий | Что проверить |
| --- | --- |
| Данные отсутствуют | Пользователь получает понятное состояние «нет обращений» |
| Ошибка внешнего сервиса | Показывается корректная ошибка и вариант повторить запрос |
| Недостаточно прав | Данные маскируются/доступ запрещен по политике доступа |

## Definition of Ready для UR

- роль и ценность сценария понятны;
- есть AC для happy path и ключевых исключений;
- известны зависимости (системы, данные, команды);
- согласован приоритет и релизный контекст;
- есть связь с BR и планом тестирования.

## Типичные ошибки

- «хочу кнопку» вместо задачи пользователя;
- отсутствие измеримых критериев приемки;
- объединение нескольких независимых целей в одну историю;
- отсутствие связи с бизнес-целью.

## Практические рекомендации

- писать от задачи роли, а не от UI-компонента;
- разделять основной и альтернативные потоки;
- проверять UR вопросом: «по этому сценарию можно написать тест?»;
- связывать UR с BR и SR в трассировке.

## Инструменты

- Jira/Azure DevOps: ведение backlog и AC;
- Miro/FigJam: user flow и story mapping;
- Figma: прототипы для валидации сценариев.

## Чек-лист качества

- понятны роль, контекст и цель сценария;
- есть измеримые AC;
- учтены ошибки и исключения;
- есть связь с BR и приоритетом;
- требование подготовлено к декомпозиции в SR.

## Смежные материалы

- [Бизнес-требования](business.md)
- [Системные требования](system.md)
- [Сбор требований](../elicitation.md)
- [Подходы к спецификации требований](../specification-approaches.md)
