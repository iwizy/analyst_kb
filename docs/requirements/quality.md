# Критерии качества требований

Качество требований влияет на сроки, стоимость и предсказуемость разработки. Хорошее требование можно реализовать и проверить без дополнительных «расшифровок на встречах».

## Цель

- сделать требования однозначными, измеримыми и проверяемыми;
- снизить риск дефектов, переделок и конфликтов между командами;
- повысить точность оценки и стабильность релизного планирования.

## Ключевые критерии качества с примерами

| Критерий | Неправильно | Правильно |
| --- | --- | --- |
| Полнота | «Система обрабатывает возврат» | «Система обрабатывает полный и частичный возврат, включая отказ и повторную подачу» |
| Ясность | «Удобный интерфейс возврата» | «Форма возврата заполняется не более чем за 5 шагов без обязательного ручного ввода справочников» |
| Простота | «Реализовать оптимизационную функциональность комплексного взаимодействия» | «Система автоматически подставляет причину возврата по коду обращения» |
| Единообразие терминологии | В документе одновременно «клиент», «пользователь», «покупатель» для одной роли | Используется единый термин «клиент», закрепленный в глоссарии |
| Непротиворечивость | В одном месте «возврат 30 дней», в другом «14 дней» | Единое бизнес-правило: «возврат в течение 30 календарных дней» |
| Реализуемость | «100% доступность сервиса» | «[Доступность](../glossary.md#term-025) 99.95% в месяц, исключая плановые окна» |
| Тестируемость | «Уведомление приходит быстро» | «Push-уведомление отправляется не позже 30 секунд после смены статуса в 95% случаев» |
| Измеримость | «Высокая производительность» | «p95 времени ответа [API](../glossary.md#abbr-005) не более 300 мс при 200 [RPS](../glossary.md#abbr-075)» |
| Трассируемость | Нет источника и связей с тестами | Указаны источник, owner, связь с задачами и test cases |
| Актуальность | [Требование](../glossary.md#term-071) 6 месяцев без review | Указана дата последней ревизии и решение (Approved/Deferred/Obsolete) |

## [SMART](../glossary.md#abbr-082) для требований

| Принцип SMART | Вопрос для проверки |
| --- | --- |
| Specific | Понятно ли, что именно должно быть реализовано? |
| Measurable | Есть ли численный или бинарный критерий? |
| Achievable | Реально ли выполнить в текущих ограничениях? |
| Relevant | Поддерживает ли требование бизнес-цель? |
| Time-bound | Есть ли контекст срока/релиза/условий проверки? |

## Шаблоны критериев приемки

### Given/When/Then

| Поле | Шаблон | Пример |
| --- | --- | --- |
| Given | Предусловие | Пользователь авторизован и имеет роль «Оператор» |
| When | Действие | Пользователь подтверждает частичный возврат |
| Then | Ожидаемый результат | Система рассчитывает сумму и отправляет уведомление клиенту |

### Шаблон [AC](../glossary.md#abbr-002) для системного требования

1. Входные условия и ограничения.
1. Ожидаемая реакция системы.
1. Пороговые значения (время, объем, доступность).
1. Негативные сценарии и коды ошибок.
1. Способ проверки (manual/auto/performance/security).

## EARS-нотация (шаблоны)

EARS помогает писать требования в единообразном формате.

| [Паттерн](../glossary.md#term-052) | Шаблон | Пример |
| --- | --- | --- |
| Ubiquitous | The `<system>` shall `<response>`. | Система должна хранить audit log всех изменений прав доступа. |
| Event-driven | When `<trigger>`, the `<system>` shall `<response>`. | Когда платеж отклонен, система должна отправить уведомление оператору. |
| State-driven | While `<state>`, the `<system>` shall `<response>`. | Пока заказ в статусе «Доставлен», система должна разрешать возврат. |
| Unwanted behavior | If `<fault>`, then the `<system>` shall `<response>`. | Если внешний API недоступен, система должна повторить запрос до 3 раз. |

## Правила формулирования (NASA)

- одно требование -> один смысл;
- избегать неопределенных местоимений и двусмысленных ссылок;
- не использовать слова «быстро», «легко», «масштабируемо» без метрики;
- не подменять потребность описанием реализации.

Источник:
<https://www.nasa.gov/reference/appendix-c-how-to-write-a-good-requirement/>

## Качество нефункциональных требований

### [SLI](../glossary.md#abbr-080)/[SLO](../glossary.md#abbr-081)/[SLA](../glossary.md#abbr-079)

- SLI (indicator): измеряемый показатель, например p95 latency.
- SLO (objective): целевое значение SLI, например p95 <= 300 мс.
- SLA (agreement): договорное обязательство и последствия нарушения.

Пример:

- SLI: доля успешных авторизаций;
- SLO: не ниже 99.9% за 30 дней;
- SLA: при нарушении более 2 периодов подряд требуется корректирующий план.

### Безопасность и надежность

Минимальные проверяемые формулировки:

- аутентификация: «доступ к административным операциям только с MFA»;
- аудит: «события изменения прав фиксируются в audit log с хранением 365 дней»;
- отказоустойчивость: «[RTO](../glossary.md#abbr-076) <= 30 мин, [RPO](../glossary.md#abbr-074) <= 5 мин для критичных данных»;
- доступность: «99.95% в месяц, исключая плановые окна обслуживания».

## Процесс контроля качества

1. Применять единый шаблон требования по типу (BR/UR/SR/[NFR](../glossary.md#abbr-053)).
1. Выполнять peer review до согласования.
1. Проверять качество на refinement и перед sprint planning.
1. Фиксировать дефекты формулировок в defect log.
1. Проводить регулярную ревизию устаревших требований.

## Инструменты контроля качества

| Подход | Что дает |
| --- | --- |
| Peer review и инспекции | Раннее обнаружение противоречий и неполноты |
| Парная проработка BA + [QA](../glossary.md#abbr-067)/Dev | Быстрая проверка реализуемости и тестируемости формулировок |
| Checklist-driven review | Стабильное качество формулировок между командами |
| Jira/Confluence шаблоны | Единый формат и обязательные поля |
| AI-ассистенты | Быстрый поиск расплывчатых формулировок, дублей, логических конфликтов |
| Traceability checks | Контроль связей с целями, задачами и тестами |

## Типичные причины деградации качества

- спешка и перенос устных договоренностей без фиксации;
- отсутствие владельца качества требований;
- слабый глоссарий и разная терминология в командах;
- нерегулярный review backlog;
- пропуск NFR и edge-cases на ранней стадии.

## Практические рекомендации

- не переводить требование в Approved без измеримых AC;
- разделять факт, гипотезу и решение в структуре требования;
- проверять, можно ли написать тест без дополнительных созвонов;
- задавать дату ревизии и владельца для high-impact требований.

## Мини-чек-лист перед Approved

- есть ID, источник, владелец, приоритет, статус;
- формулировка однозначна и измерима;
- критерии приемки покрывают happy path и edge-cases;
- требование связано с бизнес-целью и тестами;
- согласованы NFR для критичного сценария.

## Смежные материалы

- [[Валидация](../glossary.md#term-013) и верификация требований](validation.md)
- [Подходы к спецификации требований](specification-approaches.md)
- [[Трассировка](../glossary.md#term-069) требований](management/traceability.md)
- [Поддержка актуальности требований](management/relevance.md)
