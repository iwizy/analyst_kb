# Структурирование требований

Структурирование превращает набор требований в управляемую систему. Без структуры требования быстро дублируются, теряют связность и становятся дорогими в сопровождении.

## Цель

- разделить требования по уровням и пакетам;
- обеспечить единые правила идентификации и именования;
- упростить трассировку, review, планирование и change management.

## Базовые принципы

- одно требование = один проверяемый смысл;
- явная иерархия «цель -> требование -> реализация -> тест»;
- единый шаблон на каждый тип требования;
- обязательные атрибуты: ID, источник, владелец, приоритет, статус;
- отсутствие «висячих» требований без связей.

## Рабочая модель структуры

1. Бизнес-цели и KPI.
1. Бизнес-требования (BR).
1. Пользовательские требования/сценарии (UR).
1. Системные требования (SR), включая FR и NFR.
1. Acceptance Criteria и тесты.

## Примеры иерархий

### Дерево требований (пример)

```text
BG-RET-001: Сократить время обработки возврата на 30%
  BR-RET-01: Автоматизировать расчет суммы возврата
    UR-RET-05: Оператор выбирает позиции и видит сумму до подтверждения
      FR-RET-012: Система рассчитывает сумму с учетом скидок и комиссий
      NFR-RET-004: p95 расчета <= 1 сек при 100 RPS
        AC-RET-031: Проверка полного и частичного возврата
```

### Product tree / feature breakdown (пример)

| Уровень | Пример |
| --- | --- |
| Product | Платформа e-commerce |
| Capability | Управление заказами |
| Feature | Возвраты |
| Sub-feature | Частичный возврат |
| Requirement | FR-RET-012, NFR-RET-004 |

## Группировка требований

Рекомендуется двухосевая группировка:

- по доменам/бизнес-возможностям;
- по релизам/инкрементам.

Дополнительная ось (при сложных ландшафтах):

- по системам/подсистемам (Web, Mobile, Billing, CRM, DWH).

Пример:

- Домен «Возвраты», релиз R2, система «Billing API».

## Нумерация и именование

### Правила ID

- префикс типа: `BR`, `UR`, `FR`, `NFR`, `AC`;
- доменный код: `RET`, `PAY`, `AUTH`;
- порядковый номер с лидирующими нулями.

Примеры:

- `BR-RET-001`
- `FR-PAY-023`
- `NFR-AUTH-007`

### Правила наименования

- заголовок начинается с действия/результата: «Рассчитать сумму возврата»;
- без расплывчатых слов «удобно», «быстро», «качественно»;
- без технических деталей, если это не системный уровень.

## Атрибуты требования (минимум)

| Поле | Для чего нужно |
| --- | --- |
| ID | Уникальная ссылка в трассировке |
| Type/Level | Разделение по смыслу и степени детализации |
| Source | Откуда требование получено |
| Owner | Кто подтверждает корректность и актуальность |
| Priority | Как влияет на релизный скоуп |
| Status | Этап жизненного цикла (Draft/Reviewed/Approved/Obsolete) |
| Release | Планируемый инкремент поставки |
| Links | Связи с задачами, тестами, CR |

## Инструменты для поддержки структуры

| Инструмент | Когда использовать | Что важно настроить |
| --- | --- | --- |
| ReqView | Средние проекты с акцентом на трассировку | Иерархия требований, типы связей, шаблоны отчётов |
| Polarion | Крупные проекты с аудитом и комплаенсом | Workflow статусов, baseline, coverage dashboards |
| Jama | Продукты с множеством стейкхолдеров | Review cycles, approval records, impact analysis |

## Интеграция с Jira и Azure DevOps

### Jira

- хранить high-level требования в отдельных issue types (`BR`, `SR`, `NFR`);
- связывать через issue links: `relates to`, `implements`, `tests`;
- добавить обязательные поля: источник, владелец, релиз, trace links;
- строить дашборд orphan-требований и покрытия тестами.

### Azure DevOps

- использовать hierarchy: Epic -> Feature -> User Story -> Task;
- выделять NFR отдельными work items;
- применять tags по доменам и релизам;
- контролировать links между требованием, test case и change request.

## Контроль целостности структуры

Проверять регулярно:

- дубли формулировок;
- требования без владельца/статуса;
- элементы без связей с целями или тестами;
- противоречия между релизами;
- устаревшие требования без решения в decision log.

## Типичные ошибки

- смешение уровней требований в одном документе;
- несогласованные схемы ID между командами;
- хранение требований в нескольких несинхронизированных источниках;
- отсутствие правил на «закрытие» и архивирование требований.

## Практические советы

- зафиксировать и опубликовать единый стандарт ID и статусов;
- проводить структурный review перед каждым крупным релизом;
- ограничить количество «временных» документов вне основного репозитория;
- автоматизировать поиск orphan и duplicate требований.

## Чек-лист качества структуры

- требование находится по ID менее чем за 30 секунд;
- понятно, к какому домену/системе/релизу относится требование;
- для критичных требований есть связи с тестами и задачами;
- изменение требования отражается в трассировке и change log.

## Смежные материалы

- [Уровни требований](levels/index.md)
- [Декомпозиция требований](decomposition.md)
- [Трассировка требований](management/traceability.md)
- [Управление изменениями требований](management/change-management.md)
