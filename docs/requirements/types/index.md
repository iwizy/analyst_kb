# Виды требований

Для управляемой разработки требования делят на функциональные и нефункциональные. Такое разделение помогает одновременно контролировать поведение системы и требуемый уровень качества.

## Зачем разделять виды требований

- точнее оценивать объем, риски и архитектурные последствия;
- не терять [NFR](../../glossary.md#abbr-053) в процессе быстрого delivery;
- выстраивать корректное тестовое покрытие;
- делать прозрачной ответственность между BA, Dev, [QA](../../glossary.md#abbr-067), Ops.

## Функциональные требования

Фокус: что система должна делать.

Обычно включают:

- действия пользователя или внешней системы;
- бизнес-правила и валидации;
- альтернативные и ошибочные потоки;
- ожидаемый результат и критерии приемки.

Подробнее: [Функциональные требования](functional.md)

## Нефункциональные требования

Фокус: с каким качеством и в каких ограничениях система должна работать.

Обычно включают:

- производительность и доступность;
- безопасность и комплаенс;
- надежность, масштабируемость, наблюдаемость;
- эксплуатационные ограничения и [SLO](../../glossary.md#abbr-081).

Подробнее: [Нефункциональные требования](non-functional.md)

## Как использовать на практике

1. Сначала фиксировать функциональный результат (FR).
1. Для каждого критичного потока добавлять релевантные NFR.
1. Связывать FR/NFR с тестами и мониторингом.
1. Проверять, что NFR не «висят отдельно», а привязаны к конкретным сценариям.

## Пример связки FR + NFR

| Элемент | Пример |
| --- | --- |
| FR | Пользователь оформляет частичный возврат по нескольким позициям |
| NFR (performance) | p95 расчета суммы <= 1 сек при 100 [RPS](../../glossary.md#abbr-075) |
| NFR (security) | Все операции возврата пишутся в audit log |
| NFR (availability) | [Доступность](../../glossary.md#term-025) сервиса возвратов не ниже 99.9% |

## Матрица покрытия функций NFR

| Критичный сценарий | FR | Performance | Security | Reliability | Observability |
| --- | --- | --- | --- | --- | --- |
| Возврат заказа | FR-RET-012 | NFR-RET-004 | NFR-RET-007 | NFR-RET-009 | NFR-RET-011 |
| Смена пароля | FR-AUTH-010 | NFR-AUTH-005 | NFR-AUTH-001 | NFR-AUTH-006 | NFR-AUTH-008 |

## Типичные anti-patterns

- FR описаны подробно, NFR добавлены «в конце проекта»;
- NFR сформулированы общими словами без метрик;
- критичный сценарий не имеет требований по безопасности и наблюдаемости;
- требования мониторятся на тестах, но не контролируются в эксплуатации.

## Практические рекомендации

- вести совместный review FR + NFR по каждому критичному сценарию;
- использовать единые шаблоны [AC](../../glossary.md#abbr-002) и NFR-метрик;
- связывать требования с тестами и production-метриками;
- фиксировать владельца каждого high-impact NFR.

## Инструменты

| Инструмент | Применение |
| --- | --- |
| Jira / Azure DevOps | Хранение FR/NFR и их связей с задачами/тестами |
| Confluence / Git docs | Шаблоны требований и правила формулировок |
| XRay / Zephyr | Контроль покрытия FR/NFR тест-кейсами |
| Grafana / [BI](../../glossary.md#abbr-008) | Наблюдение выполнения NFR в production |

## Чек-лист баланса FR/NFR

- у каждого критичного FR есть связанный набор NFR;
- NFR измеримы и имеют метод проверки;
- связка FR/NFR отражена в трассировке;
- план мониторинга включает ключевые NFR после релиза.

## Смежные материалы

- [Уровни требований](../levels/index.md)
- [Критерии качества требований](../quality.md)
- [Валидация и верификация требований](../validation.md)

## Переход к подразделам

- [Функциональные требования](functional.md)
- [Нефункциональные требования](non-functional.md)
