# Postman

Postman - инструмент для разработки, тестирования и документирования [API](../glossary.md#abbr-005).
Системный аналитик может использовать его для проверки сценариев, валидации
контрактов и подготовки примеров для команды.

## Когда Postman полезен

- нужно быстро проверить API до интеграции фронта или внешнего потребителя;
- требуется собрать коллекцию сценариев для smoke/regression;
- важно зафиксировать ожидаемое поведение API на реальных примерах.

## Ключевые возможности

- Collections: наборы запросов по доменам или сервисам;
- Environments: переменные для разных контуров;
- Tests/Scripts: автоматические проверки на JS;
- Runner/Newman: пакетный прогон коллекций.

## Пример запроса и проверки

```http
POST {{baseUrl}}/orders
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "customerId": "c-100",
  "items": [
    {"sku": "SKU-1", "qty": 2}
  ]
}
```

```javascript
pm.test("Status code is 201", function () {
  pm.response.to.have.status(201);
});

pm.test("Response contains order id", function () {
  const body = pm.response.json();
  pm.expect(body.id).to.be.a("string");
});
```

## Практический сценарий аналитика

1. Создать коллекцию по бизнес-процессу (например, заказ).
1. Вынести в environment переменные `baseUrl`, `token`, `ids`.
1. Добавить запросы по happy path и негативным случаям.
1. Зафиксировать автопроверки на коды, поля и базовые инварианты.
1. Использовать коллекцию как входной артефакт для [QA](../glossary.md#abbr-067) и интеграторов.

## Лучшие практики

- коллекции по bounded context, а не "все в одном";
- явные наименования запросов и тестов;
- хранение коллекций в репозитории вместе с [API](../glossary.md#abbr-005)-спецификациями;
- минимально необходимый набор тестов на каждый endpoint;
- разделение тестовых данных по окружениям.

## Типичные ошибки

- ручной запуск без воспроизводимого набора переменных;
- отсутствие негативных сценариев;
- проверки только статуса без проверки содержимого;
- хранение секретов прямо в коллекциях.

## Чек-лист качества

- Коллекция покрывает ключевые API-сценарии.
- Переменные окружения настроены и документированы.
- Тесты проверяют не только код ответа, но и структуру данных.
- Секреты не коммитятся в открытом виде.

## Смежные материалы

- [Swagger](swagger.md)
- [[SOAP](../glossary.md#abbr-083) [UI](../glossary.md#abbr-091)](soap-ui.md)
- [Проектирование API](../integrations/api-design/index.md)
- [[Идемпотентность](../glossary.md#term-029)](../integrations/api-design/idempotency.md)

## Практическое дополнение

- Определите owner инструмента в команде и минимальный стандарт использования.
- Зафиксируйте шаблон артефакта, который создается в инструменте, и связь с backlog.
- Введите ежемесячную ревизию актуальности артефактов, чтобы не накапливать устаревший контент.
