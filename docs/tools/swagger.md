# Swagger

Swagger - экосистема инструментов для работы со спецификациями OpenAPI.
Для системного аналитика это способ формализовать [API](../glossary.md#abbr-005)-контракт и синхронизировать
ожидания между бизнесом, разработкой и интеграторами.

## Когда использовать

- проектируется новый [REST](../glossary.md#abbr-071) API;
- нужно документировать и версионировать контракты;
- важно рано выявлять конфликтующие ожидания по полям и статусам ответов.

## Что включает экосистема

- `OpenAPI Specification`: формальное описание API;
- `Swagger [UI](../glossary.md#abbr-091)`: интерактивная документация;
- `Swagger Editor`: редактирование и валидация спецификации;
- `Swagger Codegen/OpenAPI Generator`: генерация клиентов и серверных шаблонов.

## Минимальный пример спецификации

```yaml
openapi: 3.0.3
info:
  title: Orders API
  version: 1.0.0
paths:
  /orders/{id}:
    get:
      summary: Получить заказ
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Успешный ответ
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  status:
                    type: string
        '404':
          description: Заказ не найден
```

## Практический сценарий аналитика

1. Согласовать ресурсную модель и бизнес-операции.
1. Описать endpoint, параметры, схемы и коды ответов.
1. Добавить примеры полезной нагрузки и ошибки.
1. Провести review контракта с разработкой и потребителями [API](../glossary.md#abbr-005).
1. Зафиксировать версию и правила обратной совместимости.

## Лучшие практики

- сначала контракт, потом реализация (`contract-first`);
- единый стиль именования и ошибок во всех API;
- обязательные примеры запросов/ответов для критичных операций;
- отдельное описание security-схем и ограничений;
- явная политика версионирования и deprecation.

## Типичные ошибки

- спецификация устарела и не соответствует фактическому API;
- отсутствуют негативные ответы и схемы ошибок;
- неявные ограничения полей (форматы, обязательность);
- смешение бизнес-описания и технических деталей без структуры.

## Чек-лист качества

- [Спецификация](../glossary.md#term-065) валидируется без ошибок.
- Все публичные операции имеют описанные ответы и примеры.
- Ошибки и статусы согласованы между сервисами.
- Версия API и правила совместимости зафиксированы.

## Смежные материалы

- [Postman](postman.md)
- [[SOAP](../glossary.md#abbr-083) [UI](../glossary.md#abbr-091)](soap-ui.md)
- [Проектирование API](../integrations/api-design/index.md)
- [Документирование API](../integrations/api-design/api-documentation.md)

## Практическое дополнение

- Определите owner инструмента в команде и минимальный стандарт использования.
- Зафиксируйте шаблон артефакта, который создается в инструменте, и связь с backlog.
- Введите ежемесячную ревизию актуальности артефактов, чтобы не накапливать устаревший контент.
