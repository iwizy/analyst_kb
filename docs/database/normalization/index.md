# Нормализация и денормализация

Нормализация — это процесс организации данных в реляционной базе данных для минимизации избыточности данных и предотвращения аномалий при обновлении, удалении и добавлении данных. Основная цель нормализации — сделать базу данных более структурированной и эффективной для использования.

Нормализация выполняется в несколько этапов, называемых нормальными формами. Каждая следующая нормальная форма (НФ) накладывает более строгие требования на структуру данных.

## Основные нормальные формы

### Первая нормальная форма (1NF)

- Все значения атрибутов являются атомарными (неделимыми).
- Каждая запись уникальна и имеет первичный ключ.
Пример: Таблица до нормализации:

После нормализации в 1NF:

### Вторая нормальная форма (2NF)

- Выполняются требования 1NF.
- Все неключевые атрибуты зависят от всего первичного ключа.
Пример: Таблица до нормализации:

Здесь ID и Курс образуют составной первичный ключ. Но преподаватель зависит только от курса.

После нормализации в 2NF: Таблица студентов:

Таблица курсов:

### Третья нормальная форма (3NF)

- Выполняются требования 2NF.
- Удаляются транзитивные зависимости (когда один неключевой атрибут зависит от другого неключевого атрибута).
Пример: Таблица до нормализации:

Здесь кафедра зависит от преподавателя, что создает транзитивную зависимость.

После нормализации в 3NF: Таблица студентов:

Таблица курсов:

Таблица преподавателей:

## Денормализация

Денормализация — это процесс обратный нормализации, который объединяет таблицы для увеличения производительности запросов за счет устранения необходимости частых соединений таблиц. Этот процесс часто приводит к дублированию данных.

### Когда нужна денормализация?

- Для повышения скорости выполнения сложных запросов.
- В системах, где производительность важнее целостности данных.
- Когда данные читаются чаще, чем обновляются.
Пример денормализации: Допустим, у нас есть нормализованные таблицы:

Таблица студентов:

Таблица курсов:

После денормализации:

Денормализация устраняет необходимость соединения таблиц, но приводит к дублированию данных. Например, если преподаватель для курса изменится, придется обновлять множество строк.

## Преимущества нормализации

- Минимизация избыточности данных.
- Уменьшение потребления памяти.
- Упрощение поддержки целостности данных.
## Преимущества денормализации

- Увеличение производительности запросов.
- Упрощение структуры базы данных для чтения.
Нормализация и денормализация — это баланс между целостностью данных и производительностью системы. Выбор подхода зависит от конкретных требований проекта.

> Материал адаптирован по статье `https://iwizy.github.io/database/normalization`.

