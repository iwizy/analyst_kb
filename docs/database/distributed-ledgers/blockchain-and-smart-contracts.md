# Blockchain и смарт-контракты

Blockchain (блокчейн) — это децентрализованная и распределённая цифровая база данных, которая организована как непрерывная последовательность блоков, связанных друг с другом. Каждый блок содержит набор данных, хеш предыдущего блока, временную метку и другие метаданные. Такой подход обеспечивает целостность данных и невозможность их изменения задним числом без согласия всех участников сети.

## Как работает блокчейн?

Создание транзакции:

- Пользователь инициирует транзакцию. Например, отправка криптовалюты от одного адреса другому.
- Пример: Иван отправляет Марии 0.5 биткоина.
Передача в сеть:

- Транзакция отправляется в сеть узлов (нод). Эти узлы — компьютеры, которые поддерживают работу сети блокчейна.
Проверка транзакции:

- Узлы проверяют транзакцию на соответствие правилам сети. Например, подтверждают, что у Ивана есть достаточное количество биткоинов для отправки.
Группировка транзакций в блок:

- После проверки транзакции объединяются в блок, который будет добавлен в блокчейн.
Хеширование блока:

- Блок получает уникальный хеш (криптографический идентификатор), который зависит от данных блока и хеша предыдущего блока. Это связывает все блоки в единую цепь.
Добавление блока в цепь:

- После успешного хеширования блок добавляется к блокчейну. Информация становится неизменной и доступной для всех участников.
### Пример: Работа криптовалюты на блокчейне

- Иван отправляет Марии 0.5 биткоина.
- Узлы сети проверяют баланс Ивана.
- Транзакция подтверждается, добавляется в блок и становится частью публичного реестра.
## Что такое смарт-контракты?

Смарт-контракты — это программы, которые автоматически выполняют заранее установленные условия, записанные в их коде. Они работают на платформе блокчейна, что делает их прозрачными, безопасными и неизменяемыми.

### Принципы работы смарт-контрактов

- Смарт-контракт создаётся с использованием языка программирования. Например, для блокчейна Ethereum используется язык Solidity.
- Как только условия, заложенные в контракте, выполнены, он автоматически инициирует соответствующее действие.
- Код смарт-контракта хранится на блокчейне, и никто не может изменить его без согласия всех участников.
### Пример использования смарт-контракта

Аренда жилья:

- Артём хочет арендовать квартиру у Елены.
- Артём отправляет платёж.
- Если платёж поступает, смарт-контракт автоматически отправляет ему цифровой ключ для доступа в квартиру.
- Если платёж не поступает, ключ не отправляется.
Преимущества:

- Исключение посредников (например, агентств).
- Гарантия выполнения условий обеими сторонами.
## Преимущества Blockchain и смарт-контрактов

Безопасность:

- Высокий уровень защиты данных благодаря криптографическим методам.
- Пример: Блокчейн защищён от несанкционированных изменений.
Прозрачность:

- Все записи доступны для проверки любому участнику сети.
- Пример: В цепочке поставок можно отследить происхождение товара.
Автоматизация:

- Процессы выполняются без участия человека, что снижает вероятность ошибок.
- Пример: Выплата по страховке происходит автоматически после выполнения условий.
Исключение посредников:

- Уменьшение комиссий и затрат.
- Пример: Перевод денег без участия банков.
## Недостатки и вызовы

Масштабируемость:

- Большие сети, такие как Ethereum, могут испытывать трудности с обработкой большого количества транзакций.
- Пример: Во время пиковых нагрузок комиссии в Ethereum могут резко вырасти.
Проблемы конфиденциальности:

- Публичность данных может быть недостатком для компаний.
- Пример: Блокчейны Bitcoin или Ethereum делают все транзакции видимыми.
Ошибки в коде:

- Ошибки в смарт-контрактах могут быть катастрофическими.
- Пример: DAO-хак в 2016 году, когда из-за уязвимости было украдено $60 млн.
Регуляторные сложности:

- Законодательство в разных странах развивается медленно и часто противоречиво.
- Пример: В некоторых странах криптовалюты находятся вне правового поля.
## Примеры применения Blockchain и смарт-контрактов

Финансовая сфера:

- Переводы, кредиты, управление активами.
- Пример: DeFi-платформы, где пользователи могут брать кредиты или зарабатывать проценты без банков.
Цепочки поставок:

- Отслеживание происхождения товаров.
- Пример: Внедрение блокчейна для проверки подлинности бриллиантов.
Недвижимость:

- Купля-продажа и аренда через смарт-контракты.
- Пример: Продажа квартиры, где сделка завершается автоматически при оплате.
Игры и развлечения:

- Использование NFT для владения внутриигровыми активами.
- Пример: Продажа редких предметов в играх с сохранением права собственности в блокчейне.
Медицина:

- Управление данными пациентов.
- Пример: Медицинская карта пациента хранится в блокчейне, доступ к которой предоставляется только с согласия владельца.

> Материал адаптирован по статье `https://iwizy.github.io/database/distributed-ledgers/blockchain`.

