# Графовые базы данных

Графовые базы данных — это системы управления базами данных, в которых данные представлены в виде графа. Это означает, что данные моделируются в виде узлов (вершин), соединённых рёбрами (отношениями), с возможностью добавления свойств как к узлам, так и к рёбрам. Такой подход позволяет эффективно хранить и обрабатывать сложные взаимосвязанные структуры данных.

## Особенности графовых баз данных

Узлы (Nodes): Представляют сущности (например, пользователей, товары, страницы и т.д.). Узлы имеют свойства (ключ-значение), например:

- Пользователь: {id: 1, имя: "Анна", возраст: 28}.
- Продукт: {id: 100, название: "Книга", цена: 500}.
Рёбра (Edges): Представляют отношения между узлами, например:

- Анна купила книгу.
- Пользователь знает другого пользователя. Рёбра тоже могут иметь свойства, например: дата транзакции или степень близости.
Свойства (Properties): Хранят информацию о конкретных узлах и рёбрах.

Паттерны запросов: Графовые базы данных используют специализированные языки запросов для работы с графами. Пример: язык Cypher для Neo4j.

## Преимущества графовых баз данных

- Операции с глубокими уровнями вложенности (например, поиск пути в графе) работают быстрее, чем в реляционных базах.
- Графовая структура более интуитивна для многих типов данных, особенно социальных сетей, рекомендаций или географических систем.
- Графовые базы не требуют жёсткой схемы, что упрощает добавление новых типов данных или связей.
## Основные графовые базы данных

- Neo4j: Популярная графовая база данных с открытым исходным кодом. Использует язык запросов Cypher.
- Amazon Neptune: Облачное решение от Amazon для обработки графов.
- OrientDB: Поддерживает не только графовую модель, но и реляционную.
- ArangoDB: Многомодельная база данных, которая поддерживает графы.
- JanusGraph: Распределённая графовая база, интегрируется с системами типа Hadoop и Cassandra.
## Пример использования

### Социальные сети

Предположим, у нас есть графовая база данных для моделирования социальной сети. Узлы представляют пользователей, а рёбра показывают их связи (например, дружба).

Моделирование данных:

```
(Анна) -[:ДРУЖИТ]-> (Иван) (Иван) -[:ДРУЖИТ]-> (Мария) (Мария) -[:ДРУЖИТ]-> (Анна)
```

Пример запроса на Cypher (Neo4j):

```
// Найти всех друзей Анны MATCH (Анна {имя: "Анна"})-[:ДРУЖИТ]->(друг) RETURN друг
```

Результат:

```
друг ---- Иван
```

### Рекомендательная система

Графовые базы используются для построения рекомендаций. Например, найти продукты, которые покупали друзья пользователя.

```
// Найти продукты, которые купили друзья Анны MATCH (Анна {имя: "Анна"})-[:ДРУЖИТ]->(друг)-[:КУПИЛ]->(товар) RETURN товар
```

## Когда использовать графовые базы данных

- Моделирование социальных графов.
- Построение рекомендательных систем.
- Анализ сетей (например, логистика, телекоммуникации).
- Управление доступом (ACL).
- Генерация графов знаний (Knowledge Graphs).
## Ограничения графовых баз данных

- Меньшая зрелость по сравнению с реляционными базами.
- Относительно ограниченный выбор инструментов для интеграции.
- Сложности при масштабировании на некоторых системах.
Графовые базы данных — это мощный инструмент для работы с данными, где взаимосвязи играют ключевую роль. Выбор в пользу графовой модели зависит от конкретных задач и объёма данных.

> Материал адаптирован по статье `https://iwizy.github.io/database/types/nosql/db-graph`.

